<div class="background m-2 rounded-3">
    <!-- <h1>
        <a routerLink="/vendor/product-list">
            <mat-icon style="color: #0DADF1;">arrow_back</mat-icon>
        </a> <span style="font-size: 20px"> Add Product  </span>
    </h1> -->
    <div class="d-flex align-items-center mb-2">
        <button routerLink="/vendor/product-list" mat-icon-button
            aria-label="Example icon button with a vertical three dot icon">
            <mat-icon>arrow_back</mat-icon>
        </button>
        <h1 class="m-0" style="font-size: 20px">Add Products</h1>
    </div>

    <div class="addmore">
        <button mat-fab mat-raised-button matTooltip="Add More products" class="add float-right "
            (click)="addproducts()" routerLink="/vendor/add-product">
            <mat-icon>add</mat-icon>
        </button>
    </div>

    <form [formGroup]="productForm">
        <div formArrayName="products" *ngFor="let control of getproducts(); let badgeIndex=index">
            <div [formGroupName]="badgeIndex" class="row ml-4 mr-3">
                <div class="row mb-3 ">
                    <div class="col-12 col-md-6 col-sm-6">
                        <div class="col-12">
                            <mat-form-field class="w-100" appearance="outline">
                                <mat-label>Product Name</mat-label>
                                <input matInput placeholder="Product Name" formControlName="name">
                                <!-- <mat-icon matSuffix>search</mat-icon> -->
                                <mat-error>Product name is required</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-12">
                            <mat-form-field class="w-100" appearance="outline">
                                <mat-label>Product Price</mat-label>
                                <input matInput placeholder="Product Price" type="number" formControlName="price">
                                <!-- <mat-icon matSuffix>search</mat-icon> -->
                                <mat-error>Product price is required</mat-error>
                            </mat-form-field>
                        </div>
                        <div class="col-12">
                            <mat-form-field class="w-100" appearance="outline">
                                <mat-label>Product Description</mat-label>
                                <!-- <textarea matInput></textarea> -->
                                <input matInput placeholder="Product Description" formControlName="description">
                                <!-- <mat-icon matSuffix>search</mat-icon> -->
                                <mat-error>Product description is required</mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                    <div class="col-12 col-md-6 col-sm-6">
                        <div style="border: #0DADF1 1px solid;">
                            <img *ngIf="!getProductAtIndex(badgeIndex).get('image')?.value" src="../../../assets/img-placeholder.jpg"
                                alt="upload img" class="img-fluid" style="max-height: 250px; ">
                            <img *ngIf="getProductAtIndex(badgeIndex).get('image')?.value" style="height: 250px;" src="{{getProductAtIndex(badgeIndex).get('image')?.value}}" alt="upload img"
                                class="img-fluid">
                        </div>
                        <input style="display: none" type="file" (change)="onFileChanged($event, badgeIndex)" #fileInput>
                        <button mat-flat-button (click)="fileInput.click()"
                            style="background-color: #0DADF1; color: white;" class="mt-2 " type="button">
                            <mat-icon matSuffix class="mr-1">add_a_photo</mat-icon>
                            Upload Image
                        </button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- <div class="mb-2 col-12 col-sm-2 col-md-2 d-flex-justify-start-align-center">
        <button (click)="addPrinciple()" type="button" class="btn btn-primary">Add More</button>
    </div> -->
    </form>
    <div class="example-button-row d-flex justify-content-center mt-5">
        <button mat-flat-button style="background-color: #0DADF1; color: white;"
            (click)="submitproductForm()">Add</button>
    </div>
</div>